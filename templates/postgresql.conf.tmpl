#------------------------------------------------------------------------------
# FILE LOCATIONS
#------------------------------------------------------------------------------

data_directory = '/var/lib/postgresql/${version}/${cluster_name}'
hba_file = '/etc/postgresql/${version}/${cluster_name}/pg_hba.conf'
ident_file = '/etc/postgresql/${version}/${cluster_name}/pg_ident.conf'
external_pid_file = '/var/run/postgresql/${version}-${cluster_name}.pid'


#------------------------------------------------------------------------------
# CONNECTIONS AND AUTHENTICATION
#------------------------------------------------------------------------------

unix_socket_directory = '/var/run/postgresql'

#if $listen_ip != ""
listen_addresses = '${listen_ip}'
#end if
#if $listen_port != ""
port = '${listen_port}'
#end if
#if $ssl != ""
ssl = $ssl
#end if
#if $max_connections != ""
max_connections = $max_connections
#end if


#------------------------------------------------------------------------------
# RESOURCE USAGE (except WAL)
#------------------------------------------------------------------------------

#if $shared_buffers != ""
shared_buffers = $shared_buffers
#end if
#if $temp_buffers != ""
temp_buffers = $temp_buffers
#end if
#if $work_mem != ""
work_mem = $work_mem
#end if
#if $maintenance_work_mem != ""
maintenance_work_mem = $maintenance_work_mem
#end if


#------------------------------------------------------------------------------
# WRITE AHEAD LOG
#------------------------------------------------------------------------------

#if $wal_buffers != ""
wal_buffers = $wal_buffers
#end if
#if $checkpoint_segments != ""
checkpoint_segments = $checkpoint_segments
end if


#------------------------------------------------------------------------------
# QUERY TUNING
#------------------------------------------------------------------------------

#if $random_page_cost != ""
random_page_cost = $random_page_cost
#end if
#if effective_cache_size != ""
effective_cache_size = $effective_cache_size
#end if


#------------------------------------------------------------------------------
# ERROR REPORTING AND LOGGING
#------------------------------------------------------------------------------

#if $log_min_duration_statement != ""
log_min_duration_statement = $log_min_duration_statement
end if
#if $log_checkpoints != ""
log_checkpoints = $log_checkpoints
#end if
#if $log_connections != ""
log_connections = $log_connections
#end if
#if $log_disconnections != ""
log_disconnections = $log_disconnections
#end if
#if $log_line_prefix != ""
log_line_prefix = '$log_line_prefix'
#end if
#if $log_lock_waits != ""
log_lock_waits = $log_lock_waits
#end if

log_timezone = UTC


#------------------------------------------------------------------------------
# AUTOVACUUM PARAMETERS
#------------------------------------------------------------------------------

#if $autovacuum != ""
autovacuum = $autovacuum
#end if
#if $log_autovacuum_min_duration != ""
log_autovacuum_min_duration = $log_autovacuum_min_duration
#end if
#if $autovacuum_analyze_threshold != ""
autovacuum_analyze_threshold = $autovacuum_analyze_threshold
#end if
#if $autovacuum_vacuum_scale_factor != ""
autovacuum_vacuum_scale_factor = $autovacuum_vacuum_scale_factor
#end if
#if $autovacuum_analyze_scale_factor != ""
autovacuum_analyze_scale_factor = $autovacuum_analyze_scale_factor
#end if
#if $autovacuum_vacuum_cost_delay != ""
autovacuum_vacuum_cost_delay = $autovacuum_vacuum_cost_delay
#end if


#------------------------------------------------------------------------------
# CLIENT CONNECTION DEFAULTS
#------------------------------------------------------------------------------

#if $search_path != ""
search_path = '$search_path'
#end if


#------------------------------------------------------------------------------
# VERSION/PLATFORM COMPATIBILITY
#------------------------------------------------------------------------------

#if $standard_conforming_strings != ""
standard_conforming_strings = $standard_conforming_strings
#end if
#if $version.to_f >= 9.1
#if $hot_standby != ""
hot_standby = $hot_standby
#end if
#if $hot_standby_feedback != ""
hot_standby_feedback = $hot_standby_feedback
#end if
#if $wal_level != ""
wal_level = $wal_level
#end if
#if $max_wal_senders != ""
max_wal_senders = $max_wal_senders
#end if
#if $wal_keep_segments != ""
wal_keep_segments = $wal_keep_segments
#end if
#end if
